{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,sBAEA,IAAMC,EAAkBC,SAASC,cAAc,wBACzCC,EAA2BF,SAASC,cAAc,qBAClDE,EAAyBH,SAASC,cAAc,2BAEhDG,EAAmB,eAEzBL,EAAgBM,iBAAiB,SAG1B,SAAwBC,GAC7BA,EAAEC,iBACF,IACMC,aAAaC,QAAQL,IACvBM,MAAQC,KAAKC,MAAMJ,aAAaC,QAAQL,IACxCS,QAAQC,IAAIJ,OACZG,QAAQC,IAAId,UACZE,EAAyBa,UAAY,GACrCb,EAAyBa,UAgB/B,SAA4BL,GAC1B,OAAOA,EAAMM,QAAO,SAACC,EAAGC,G,IAAIC,EAAUD,EAAVC,WAAYC,EAAKF,EAALE,MAAOC,EAASH,EAATG,UAAWC,EAAWJ,EAAXI,YAAaC,EAAML,EAANK,OAAQC,EAASN,EAATM,U,OAC7EP,EAAM,kGAIqCQ,OAFGN,EAAW,4FAGVM,OADJL,EAAM,2DAEAK,OADFJ,EAAU,6DAGXI,OAFGH,EAAY,4GAKQG,OAHvBF,EAAO,qLAWgBE,OARAD,EAAU,GAAGE,IAAI,4dAgBjBD,OARAD,EAAU,GAAGE,IAAI,4eAQAD,OAAjBD,EAAU,GAAGE,IAAI,mrB,GAgBnF,G,CA7DoCC,CAAmBjB,SAGxDR,EAAyBa,UAAY,GACrCb,EAAyBa,UA6DrB,2V,CA3DN,MAAOa,GACPC,EAAAhC,GAASiC,OAAOC,QAAQ,oBAAqBH,EAAMI,Q,KAjBvD7B,EAAuBE,iBAAiB,SAqBxC,SAAmBC,GACjBA,EAAEC,iBACFsB,EAAAhC,GAASiC,OAAOC,QAAQ,4B","sources":["src/js/shoppinglist.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst shoppingListRef = document.querySelector('.shopping-link-order');\nconst shoppingListContainerRef = document.querySelector('.container-markup');\nconst shoppingListDumpBtnRef = document.querySelector('.shopping-card-dump-btn');\n\nconst LOCALSTORAGE_KEY = 'SHOPPINGLIST';\n\nshoppingListRef.addEventListener('click', onShoppingList);\nshoppingListDumpBtnRef.addEventListener('click', onDumpBtn);\n\nexport function onShoppingList(e) {\n  e.preventDefault();\n  try {\n    if (localStorage.getItem(LOCALSTORAGE_KEY)) {\n      books = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n      console.log(books);\n      console.log(document);\n      shoppingListContainerRef.innerHTML = '';\n      shoppingListContainerRef.innerHTML = markupShoppingList(books);\n    }\n    else {\n      shoppingListContainerRef.innerHTML = '';\n      shoppingListContainerRef.innerHTML = markupEmpty();\n    }\n  } catch (error) {\n    Notiflix.Notify.failure(\"Set state error: \", error.message);\n  }\n}\n\nfunction onDumpBtn(e) {\n  e.preventDefault();\n  Notiflix.Notify.failure(\"I do not want to do this!\");\n}\n\nfunction markupShoppingList(books) {\n  return books.reduce((acc, { book_image, title, list_name, description, author, buy_links }) =>\n    acc + `\n      <div class=\"container-shopping-card\">\n            <img class=\"shopping-card-img\" src=\"${book_image}\" alt=\"Without title\">\n            <div>\n              <p class=\"shopping-card-title\">${title}</p>\n              <p class=\"shopping-card-list-name\">${list_name}</p>\n              <p class=\"shopping-card-description\">${description}</p>\n              <div class=\"shopping-card-footer\">\n                <p class=\"shopping-card-author\">${author}</p>\n                <ul class=\"shopping-card-list\">\n                  <li class=\"shopping-card-item\">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${buy_links[0].url}\">\n                      <img class=\"shopping-card-pic\" srcset=\"\n                                    ./images/amazon_x1.png 1x,\n                                    ./images/amazon_x2.png 2x\n                                  \" src=\"./images/amazon_x1.png\" alt=\"amazon\" width=\"48\" height=\"15\" />\n                    </a>\n                  </li>\n                  <li class=\"shopping-card-item\">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${buy_links[1].url}\">\n                      <img class=\"shopping-card-pic\" srcset=\"\n                                    ./images/white_book_x1.png 1x,\n                                    ./images/white_book_x2.png 2x\n                                  \" src=\"./images/white_book_x1.png\" alt=\"white_book\" width=\"28\" height=\"27\" />\n                    </a>\n                  </li>\n                  <li class=\"shopping-card-item\">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${buy_links[4].url}\">\n                      <img class=\"shopping-card-pic\" srcset=\"\n                                    ./images/black_book_x1.png 1x,\n                                    ./images/black_book_x2.png 2x\n                                  \" src=\"./images/black_book_x1.png\" alt=\"black_book\" width=\"32\" height=\"30\" />\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <button type=\"button\" class=\"shopping-card-dump-btn\">\n              <svg class=\"shopping-card-dump-icon\">\n                <use href=\"./images/svg/svg_sprite.svg#trash\"></use>\n              </svg>\n            </button>\n          </div>\n    `, '');\n}\n\n function markupEmpty() {\n  return `\n      <div class=\"container-shopping-empty\">\n        <p class=\"shopping-empty-text\">\n          This page is empty, add some books and proceed to order.\n        </p>\n        <img class=\"shopping-empty-img\" srcset=\"./images/books_x1.png 1x, ./images/books_x2.png 2x\"\n          src=\"./images/books_x1.png\" alt=\"books\" />\n      </div>\n    `;\n}\n\nimport { slider, toggleSwitch } from './toggle.js';\nimport { renderSupportMarkup } from './suppurt-slider.js';\n"],"names":["$6JpON","parcelRequire","$4d166a7318c7ff29$var$shoppingListRef","document","querySelector","$4d166a7318c7ff29$var$shoppingListContainerRef","$4d166a7318c7ff29$var$shoppingListDumpBtnRef","$4d166a7318c7ff29$var$LOCALSTORAGE_KEY","addEventListener","e","preventDefault","localStorage","getItem","books","JSON","parse","console","log","innerHTML","reduce","acc","param","book_image","title","list_name","description","author","buy_links","concat","url","$4d166a7318c7ff29$var$markupShoppingList","error","$parcel$interopDefault","Notify","failure","message"],"version":3,"file":"shoppinglist.649c68a7.js.map"}