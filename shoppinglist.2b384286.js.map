{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,+DAGA,IAEIC,EAFEC,EAAkBC,SAASC,cAAc,wBACzCC,EAA2BF,SAASC,cAAc,qBAGlDE,EAAmB,e,SA6BVC,EAAUC,G,OAAVC,EAASC,MAAAC,KAAAC,U,UAATH,I,OAAAA,EAAfI,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,EAAyBR,G,kEACvBA,EAAES,iBACFC,QAAQC,IAAI,aACZN,EAAAO,GAASC,OAAOC,QAAQ,6B,4CAHFZ,MAAAC,KAAAC,U,CA3BxBM,QAAQC,IAAIlB,GAIZC,EAAgBqB,iBAAiB,SAEjC,SAAwBf,GACtBA,EAAES,iBACF,IACMO,aAAaC,QAAQnB,IACvBoB,MAAQC,KAAKC,MAAMJ,aAAaC,QAAQnB,IACxCY,QAAQC,IAAIO,OACZR,QAAQC,IAAIU,QACZxB,EAAyByB,UAAY,GACrCzB,EAAyByB,UAmB/B,SAA4BJ,GAC1B,OAAOA,EAAMK,QAAO,SAACC,EAAGC,G,IAAIC,EAAUD,EAAVC,WAAYC,EAAKF,EAALE,MAAOC,EAASH,EAATG,UAAWC,EAAWJ,EAAXI,YAAaC,EAAML,EAANK,OAAQC,EAASN,EAATM,UAAWC,EAAGP,EAAHO,I,OACxFR,EAAM,kGAIqCS,OAFGP,EAAW,4FAGVO,OADJN,EAAM,2DAEAM,OADFL,EAAU,6DAGXK,OAFGJ,EAAY,4GAKQI,OAHvBH,EAAO,qLAWgBG,OARAF,EAAU,GAAGG,IAAI,4dAgBjBD,OARAF,EAAU,GAAGG,IAAI,4eAkBnDD,OAVkCF,EAAU,GAAGG,IAAI,wdAezED,OALsBD,EAAI,6NAKtBC,OAAJD,EAAI,+B,GAEd,G,CAjEoCG,CAAmBjB,QACxDzB,EAAyBE,SAASC,cAAc,sBACzBmB,iBAAiB,QAAShB,KAGjDF,EAAyByB,UAAY,GACrCzB,EAAyByB,UA+DrB,2V,CA7DN,MAAOc,GACP/B,EAAAO,GAASC,OAAOC,QAAQ,oBAAqBsB,EAAMC,Q","sources":["src/js/shoppinglist.js"],"sourcesContent":["import AOS from 'aos';\nimport Notiflix from 'notiflix';\n\nconst shoppingListRef = document.querySelector('.shopping-link-order');\nconst shoppingListContainerRef = document.querySelector('.container-markup');\nlet shoppingListDumpBtnRef;\n\nconst LOCALSTORAGE_KEY = 'SHOPPINGLIST';\n\nconsole.log(shoppingListDumpBtnRef);\n\n// document.addEventListener('DOMContentLoaded', onShoppingList);\n// document.addEventListener('onloadstart', onShoppingList);\nshoppingListRef.addEventListener('click', onShoppingList);\n\nfunction onShoppingList(e) {\n  e.preventDefault();\n  try {\n    if (localStorage.getItem(LOCALSTORAGE_KEY)) {\n      books = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n      console.log(books);\n      console.log(window);\n      shoppingListContainerRef.innerHTML = '';\n      shoppingListContainerRef.innerHTML = markupShoppingList(books);\n      shoppingListDumpBtnRef = document.querySelector('.container-markup');\n      shoppingListDumpBtnRef.addEventListener('click', onDumpBtn);\n    }\n    else {\n      shoppingListContainerRef.innerHTML = '';\n      shoppingListContainerRef.innerHTML = markupEmpty();\n    }\n  } catch (error) {\n    Notiflix.Notify.failure(\"Set state error: \", error.message);\n  }\n}\n\nasync function onDumpBtn(e) {\n  e.preventDefault();\n  console.log('onDumpBtn');\n  Notiflix.Notify.failure(\"I do not want to do this!\");\n}\n\nfunction markupShoppingList(books) {\n  return books.reduce((acc, { book_image, title, list_name, description, author, buy_links, _id }) =>\n    acc + `\n      <div class=\"container-shopping-card\">\n            <img class=\"shopping-card-img\" src=\"${book_image}\" alt=\"Without title\">\n            <div>\n              <p class=\"shopping-card-title\">${title}</p>\n              <p class=\"shopping-card-list-name\">${list_name}</p>\n              <p class=\"shopping-card-description\">${description}</p>\n              <div class=\"shopping-card-footer\">\n                <p class=\"shopping-card-author\">${author}</p>\n                <ul class=\"shopping-card-list\">\n                  <li class=\"shopping-card-item\">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${buy_links[0].url}\">\n                      <img class=\"shopping-card-pic\" srcset=\"\n                                    ./images/amazon_x1.png 1x,\n                                    ./images/amazon_x2.png 2x\n                                  \" src=\"./images/amazon_x1.png\" alt=\"amazon\" width=\"48\" height=\"15\" />\n                    </a>\n                  </li>\n                  <li class=\"shopping-card-item\">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${buy_links[1].url}\">\n                      <img class=\"shopping-card-pic\" srcset=\"\n                                    ./images/white_book_x1.png 1x,\n                                    ./images/white_book_x2.png 2x\n                                  \" src=\"./images/white_book_x1.png\" alt=\"white_book\" width=\"28\" height=\"27\" />\n                    </a>\n                  </li>\n                  <li class=\"shopping-card-item\">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${buy_links[4].url}\">\n                      <img class=\"shopping-card-pic\" srcset=\"\n                                    ./images/black_book_x1.png 1x,\n                                    ./images/black_book_x2.png 2x\n                                  \" src=\"./images/black_book_x1.png\" alt=\"black_book\" width=\"32\" height=\"30\" />\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <button type=\"button\" id=${_id} class=\"shopping-card-dump-btn\">\n              <svg class=\"shopping-card-dump-icon\">\n                <use href=\"./images/svg/svg_sprite.svg#trash\"></use>\n              </svg>\n            </button>\n            <p>${_id}</p>\n          </div>\n    `, '');\n}\n\n function markupEmpty() {\n  return `\n      <div class=\"container-shopping-empty\">\n        <p class=\"shopping-empty-text\">\n          This page is empty, add some books and proceed to order.\n        </p>\n        <img class=\"shopping-empty-img\" srcset=\"./images/books_x1.png 1x, ./images/books_x2.png 2x\"\n          src=\"./images/books_x1.png\" alt=\"books\" />\n      </div>\n    `;\n}\n\nimport { slider, toggleSwitch } from './toggle.js';\nimport { renderSupportMarkup } from './suppurt-slider.js';\n"],"names":["$bpxeT","parcelRequire","$4d166a7318c7ff29$var$shoppingListDumpBtnRef","$4d166a7318c7ff29$var$shoppingListRef","document","querySelector","$4d166a7318c7ff29$var$shoppingListContainerRef","$4d166a7318c7ff29$var$LOCALSTORAGE_KEY","$4d166a7318c7ff29$var$onDumpBtn","e","$4d166a7318c7ff29$var$_onDumpBtn","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","preventDefault","console","log","$6JpON","Notify","failure","addEventListener","localStorage","getItem","books","JSON","parse","window","innerHTML","reduce","acc","param","book_image","title","list_name","description","author","buy_links","_id","concat","url","$4d166a7318c7ff29$var$markupShoppingList","error","message"],"version":3,"file":"shoppinglist.2b384286.js.map"}