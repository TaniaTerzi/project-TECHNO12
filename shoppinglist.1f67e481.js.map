{"mappings":"qhBAAAA,EAAA,S,6DAGA,MAAMC,EAAkBC,SAASC,cAAc,wBACzCC,EAA2BF,SAASC,cAAc,qBACxD,IAAIE,EA+BJC,eAAeC,EAAUC,GACvBA,EAAEC,iBACFC,QAAQC,IAAI,aACZC,EAAAC,GAASC,OAAOC,QAAQ,4B,CA9B1BL,QAAQC,IAAIN,GAIZJ,EAAgBe,iBAAiB,SAEjC,SAAwBR,GACtBA,EAAEC,iBACF,IACMQ,aAAaC,QAXI,iBAYnBC,MAAQC,KAAKC,MAAMJ,aAAaC,QAZb,iBAanBR,QAAQC,IAAIQ,OACZT,QAAQC,IAAIW,QACZlB,EAAyBmB,UAAY,GACrCnB,EAAyBmB,UAmB/B,SAA4BJ,GAC1B,OAAOA,EAAMK,QAAO,CAACC,GAAKC,WAAEA,EAAUC,MAAEA,EAAKC,UAAEA,EAASC,YAAEA,EAAWC,OAAEA,EAAMC,UAAEA,EAASC,IAAEA,KACxFP,EAAM,kGAEwCC,4FAEHC,2DACIC,6DACEC,4GAEHC,qLAGuBC,EAAU,GAAGE,8dAQbF,EAAU,GAAGE,8eAQbF,EAAU,GAAGE,0dAU/CD,6NAKtBA,iCAEV,G,CAjEoCE,CAAmBf,OACxDd,EAAyBH,SAASC,cAAc,qBAChDE,EAAuBW,iBAAiB,QAAST,KAGjDH,EAAyBmB,UAAY,GACrCnB,EAAyBmB,UA+DtB,2V,CA7DL,MAAOY,GACPvB,EAAAC,GAASC,OAAOC,QAAQ,oBAAqBoB,EAAMC,Q","sources":["src/js/shoppinglist.js"],"sourcesContent":["import AOS from 'aos';\nimport Notiflix from 'notiflix';\n\nconst shoppingListRef = document.querySelector('.shopping-link-order');\nconst shoppingListContainerRef = document.querySelector('.container-markup');\nlet shoppingListDumpBtnRef;\n\nconst LOCALSTORAGE_KEY = 'SHOPPINGLIST';\n\nconsole.log(shoppingListDumpBtnRef);\n\n// document.addEventListener('DOMContentLoaded', onShoppingList);\n// document.addEventListener('onloadstart', onShoppingList);\nshoppingListRef.addEventListener('click', onShoppingList);\n\nfunction onShoppingList(e) {\n  e.preventDefault();\n  try {\n    if (localStorage.getItem(LOCALSTORAGE_KEY)) {\n      books = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n      console.log(books);\n      console.log(window);\n      shoppingListContainerRef.innerHTML = '';\n      shoppingListContainerRef.innerHTML = markupShoppingList(books);\n      shoppingListDumpBtnRef = document.querySelector('.container-markup');\n      shoppingListDumpBtnRef.addEventListener('click', onDumpBtn);\n    }\n    else {\n      shoppingListContainerRef.innerHTML = '';\n      shoppingListContainerRef.innerHTML = markupEmpty();\n    }\n  } catch (error) {\n    Notiflix.Notify.failure(\"Set state error: \", error.message);\n  }\n}\n\nasync function onDumpBtn(e) {\n  e.preventDefault();\n  console.log('onDumpBtn');\n  Notiflix.Notify.failure(\"I do not want to do this!\");\n}\n\nfunction markupShoppingList(books) {\n  return books.reduce((acc, { book_image, title, list_name, description, author, buy_links, _id }) =>\n    acc + `\n      <div class=\"container-shopping-card\">\n            <img class=\"shopping-card-img\" src=\"${book_image}\" alt=\"Without title\">\n            <div>\n              <p class=\"shopping-card-title\">${title}</p>\n              <p class=\"shopping-card-list-name\">${list_name}</p>\n              <p class=\"shopping-card-description\">${description}</p>\n              <div class=\"shopping-card-footer\">\n                <p class=\"shopping-card-author\">${author}</p>\n                <ul class=\"shopping-card-list\">\n                  <li class=\"shopping-card-item\">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${buy_links[0].url}\">\n                      <img class=\"shopping-card-pic\" srcset=\"\n                                    ./images/amazon_x1.png 1x,\n                                    ./images/amazon_x2.png 2x\n                                  \" src=\"./images/amazon_x1.png\" alt=\"amazon\" width=\"48\" height=\"15\" />\n                    </a>\n                  </li>\n                  <li class=\"shopping-card-item\">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${buy_links[1].url}\">\n                      <img class=\"shopping-card-pic\" srcset=\"\n                                    ./images/white_book_x1.png 1x,\n                                    ./images/white_book_x2.png 2x\n                                  \" src=\"./images/white_book_x1.png\" alt=\"white_book\" width=\"28\" height=\"27\" />\n                    </a>\n                  </li>\n                  <li class=\"shopping-card-item\">\n                    <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${buy_links[4].url}\">\n                      <img class=\"shopping-card-pic\" srcset=\"\n                                    ./images/black_book_x1.png 1x,\n                                    ./images/black_book_x2.png 2x\n                                  \" src=\"./images/black_book_x1.png\" alt=\"black_book\" width=\"32\" height=\"30\" />\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <button type=\"button\" id=${_id} class=\"shopping-card-dump-btn\">\n              <svg class=\"shopping-card-dump-icon\">\n                <use href=\"./images/svg/svg_sprite.svg#trash\"></use>\n              </svg>\n            </button>\n            <p>${_id}</p>\n          </div>\n    `, '');\n}\n\n function markupEmpty() {\n  return `\n      <div class=\"container-shopping-empty\">\n        <p class=\"shopping-empty-text\">\n          This page is empty, add some books and proceed to order.\n        </p>\n        <img class=\"shopping-empty-img\" srcset=\"./images/books_x1.png 1x, ./images/books_x2.png 2x\"\n          src=\"./images/books_x1.png\" alt=\"books\" />\n      </div>\n    `;\n}\n\nimport { slider, toggleSwitch } from './toggle.js';\nimport { renderSupportMarkup } from './suppurt-slider.js';\nimport { userLogin, userLogout } from './userbar.js';\nimport { mobileMenu, openMenuBtn, closeMenuBtn } from './burger-menu.js';\n"],"names":["parcelRequire","$a6f3c91f4a9a7179$var$shoppingListRef","document","querySelector","$a6f3c91f4a9a7179$var$shoppingListContainerRef","$a6f3c91f4a9a7179$var$shoppingListDumpBtnRef","async","$a6f3c91f4a9a7179$var$onDumpBtn","e","preventDefault","console","log","$parcel$interopDefault","$7Y9D8","Notify","failure","addEventListener","localStorage","getItem","books","JSON","parse","window","innerHTML","reduce","acc","book_image","title","list_name","description","author","buy_links","_id","url","$a6f3c91f4a9a7179$var$markupShoppingList","error","message"],"version":3,"file":"shoppinglist.1f67e481.js.map"}